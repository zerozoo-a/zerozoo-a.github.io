---
layout: post
title: coin change problem bottom-up
date: 2022-11-29 22:38 +0900
categories: ["algorithm"]
---



## ğŸ“‡ Table of Contents 
---
- [ğŸ“‡ Table of Contents](#-table-of-contents)
  - [ë¬¸ì œ](#ë¬¸ì œ)
  - [ì½”ë“œ](#ì½”ë“œ)
  - [ì„¤ëª…](#ì„¤ëª…)
  - [recap](#recap)



### ë¬¸ì œ
---
You are given an integer array coins representing coins of different denominations and an integer amount representing a total amount of money.

Return the fewest number of coins that you need to make up that amount. If that amount of money cannot be made up by any combination of the coins, return -1.

You may assume that you have an infinite number of each kind of coin.

ìˆ«ì ë°°ì—´ê³¼ amount ê°’ì„ í•¨ìˆ˜ì˜ ì¸ìë¡œ ë°›ìŠµë‹ˆë‹¤.

ìˆ«ì ë°°ì—´ì„ ê°€ì¥ ìµœì†Œí•œìœ¼ë¡œ ì¡°í•©í•˜ì—¬ amountì˜ ê°’ì„ ë§Œë“¤ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê°¯ìˆ˜ë¥¼ êµ¬í•˜ì„¸ìš”.

ì˜ˆë¥¼ ë“¤ì–´ `[1, 3, 5]`ì˜ ì½”ì¸ì´ ìˆê³  í•´ë‹¹ ì½”ì¸ìœ¼ë¡œ amount 6ì„ ë§Œë“œëŠ” ê²ë‹ˆë‹¤. ê°€ì¥ ì ì€ ì½”ì¸ì˜ ê°¯ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ ë§Œë“¤ë ¤ë©´
`1, 5`, `3, 3`ë“±ì´ ìˆê² ìŠµë‹ˆë‹¤. ì½”ì¸ì€ ë‘ ê°œê°€ ì‚¬ìš©ë˜ì—ˆìœ¼ë¯€ë¡œ 2ë¥¼ ë‚˜íƒ€ë‚´ë©´ ë©ë‹ˆë‹¤.
ë§Œë“¤ ìˆ˜ ì—†ëŠ” ê²½ìš° -1ì„ ë°˜í™˜í•˜ì„¸ìš”.

<br>
<br>
<br>
### ì½”ë“œ
---

```js
/**
 *
 * @param {number[]} coins
 * @param {number} amount
 */
const coinChangerBottomToUp = (coins, amount) => {
  const dp = new Array(amount + 1).fill(amount + 1);

  /** case: ê¸°ì € ì¡°ê±´ */
  dp[0] = 0;

  for (let i = 0; i < dp.length; i++) {
    for (const coin of coins) {
      if (i - coin < 0) continue;
      dp[i] = Math.min(dp[i], 1 + dp[i - coin]);
    }
  }
  return dp[amount] === amount + 1 ? -1 : dp[amount];
};
```

<br>
<br>
<br>
### ì„¤ëª…
---

ì´ë²ˆì—” bottom-up ë°©ì‹ì„ í†µí•´ ë¬¸ì œí’€ì´ë¥¼ í•˜ê²Œ ë©ë‹ˆë‹¤.

ìœ„ ë°©ì‹ì„ ì´í•´í•˜ê¸° ìœ„í•´ì„œëŠ” ê°€ì¥ ë‹¨ìˆœí•œ í˜•íƒœì˜ ì¸ìë¶€í„° ì‹¤í–‰í•´ë³´ëŠ”ê²Œ ì¢‹ê² ìŠµë‹ˆë‹¤.

`coinChangerBottomUp([1],1)`ì„ ì¸ìë¡œ ë„£ì—ˆë‹¤ê³  ìƒê°í•´ë´…ì‹œë‹¤.

1. ë‚´ë¶€ì—ì„œ ì„ ì–¸ëœ `dp`ëŠ” `[2,2]` ë°°ì—´ë¡œ ì´ˆê¸°í™” ë©ë‹ˆë‹¤.
    - dp ë°°ì—´ì€ amount + 1ê°œ ë§Œí¼ì˜ ê¸¸ì´ë¥¼ ê°€ì§‘ë‹ˆë‹¤.

2. `dp[0]`ì„ 0ìœ¼ë¡œ ì´ˆê¸°í™” í•´ì¤ë‹ˆë‹¤.
    - 0 ë²ˆì§¸ëŠ” ëª¨ë‘ continueë¡œ ë„˜ì–´ê°€ê²Œ ë©ë‹ˆë‹¤.
3. ì´ì¤‘ ë°˜ë³µë¬¸ì— ë“¤ì–´ê°€ê²Œ ë©ë‹ˆë‹¤.
    - `(i = 0)` ì¸ ê²½ìš° ëª¨ë‘ `continue`ë¡œ ìŠ¤í‚µ
    - `(i = 1)` ì¸ ê²½ìš° `(i - coin) => (1 - 1) < 0`ì— ëŒ€í•´ `false` ì´ë‹¤.
    - `dp[1]`ì€ `Math.min(2, 1 + dp[0])`ì— ëŒ€í•œ ê³„ì‚°ì„ í†µí•´ ì´ˆê¸°í™” ë©ë‹ˆë‹¤.


ì™¸ë¶€ ë°˜ë³µì iì™€ ë‚´ë¶€ì˜ ë°˜ë³µì coinì€ i - coinì´ë¼ëŠ” ì‹ìœ¼ë¡œ ì—°ê´€ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
ì €ëŠ” ì´ ë¶€ë¶„ì´ ì´ ì•Œê³ ë¦¬ì¦˜ì˜ ê°€ì¥ ì¤‘ìš”í•œ ë¶€ë¶„ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤.


0.  ë°˜ë³µì iê°€ 0 ì¸ ê²½ìš° `i - coin < 0`ì´ë¼ëŠ” ì‹ì—ëŠ” ëª¨ë‘ trueë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
1.  iê°€ 1ì¸ ê²½ìš°ë¶€í„° `dp[i]`ì— ê°’ì„ ì´ˆê¸°í™” í•  ìˆ˜ ìˆëŠ” ê°€ëŠ¥ì„±ì´ ìƒê¹ë‹ˆë‹¤.
    - ì˜ˆë¥¼ ë“¤ì–´ì„œ i = 1 ì´ê³  coinì˜ ê°’ì´ 1 ì´ë¼ê³  í•©ì‹œë‹¤.
    ì´ëŸ¬í•œ ê²½ìš°ì—ëŠ” `i - coin < 0`ì´ë¼ëŠ” ì¡°ê±´ì— falseë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

    `dp[1] = Math.min(dp[1], 1 + dp[0])`ì´ë¼ëŠ” ì‹ì— ë„ë‹¬í•˜ê²Œ ë˜ëŠ”ë°ìš” ì´ëŠ” ë‹¤ì‹œ ì“°ë©´
    `dp[1] = Math.min(2, 1 + 0)`ì´ê¸° ë•Œë¬¸ì— `dp[1]`ì—ëŠ” 1 ì´ ì´ˆê¸°í™”ë©ë‹ˆë‹¤.

    > ì´ëŠ” ì´ëŸ° ëœ»ì…ë‹ˆë‹¤. ì£¼ì–´ì§„ ì½”ì¸ë“¤ ì¤‘ 1 ì§œë¦¬ ì½”ì¸ì´ ìˆê³ , ê·¸ ì½”ì¸ìœ¼ë¡œ amountì— ë„ë‹¬í•˜ê¸° ìœ„í•´ì„œëŠ”
    1 ì§œë¦¬ ì½”ì¸ì„ í•œ ê°œ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

ì´í›„ì—ëŠ” ë°˜ë³µë¬¸ì˜ ì¡°ê±´ì´ ëª¨ë‘ ì†Œì§„ë˜ì–´ í•¨ìˆ˜ì˜ ë°˜í™˜ë¬¸ì— ë„ë‹¬í•˜ê²Œ ë©ë‹ˆë‹¤.

dpë°°ì—´ì˜ amount ë²ˆì§¸ì˜ ì¸ë±ìŠ¤ì— ì ‘ê·¼í•˜ì—¬ amount + 1ì¸ì§€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
ì´ëŠ” ì£¼ì–´ì§„ ì½”ì¸ì˜ ëª¨ë“  ì¡°í•© ì¤‘ ê°€ì¥ ë§ì€ ì¡°í•©ì˜ ê²½ìš°ì˜ ìˆ˜ + 1 ì´ë¼ëŠ” ìˆ«ìì´ê¸° ë•Œë¬¸ì— 
ê²°êµ­ ì´ˆê¸°í™”ê°€ ë˜ì—ˆëŠ”ì§€ ì•„ë‹Œì§€ë¥¼ í™•ì¸í•˜ëŠ” ì—°ì‚°ì…ë‹ˆë‹¤.

ë§Œì•½ ì´ˆê¸°í™”ë¥¼ ëª»í–ˆë‹¤ë©´ ì ì ˆí•œ coinì˜ ì¡°í•©ì„ ë‚¼ ìˆ˜ ì—†ì—ˆë‹¤ëŠ” ì´ì•¼ê¸° ì´ë¯€ë¡œ ë¬¸ì œì—ì„œ ì›í•˜ëŠ” `-1` ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

ì•„ë‹Œ ê²½ìš°ì—ëŠ” `dp[amount]`ì˜ ê°’ì„ ì°¾ì•„ êº¼ë‚´ì˜µë‹ˆë‹¤.

ì´ë¥¼ ë³´ë©´ ë°˜ë³µì `i` ëŠ” `amount`ì˜ ê°’ì— ê°€ê¹Œì›Œì§€ë©´ì„œ ë‹µì„ ì°¾ì•„ë‚˜ì„œê²Œ ë˜ëŠ” í˜•íƒœì…ë‹ˆë‹¤.

ì¶”ê°€ì ìœ¼ë¡œ `i - coin < 0` ì¡°ê±´ì— ë¶€í•©í•˜ë©´ì„œ `i = 2, coin = 1`ì¸ ê²½ìš°ì—ëŠ” ì–´ë–¨ê¹Œìš”?
`amount = 1`ì„ ë§Œì¡±í•  ìˆ˜ ìˆëŠ” ì½”ì¸ì€ ì˜¤ì§ 1 ì´ê±°ë‚˜ 1 ë³´ë‹¤ ì‘ì€ ì½”ì¸ìœ¼ë¡œë§Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ `continue`ë¥¼ í†µí•´ ë„˜ì–´ê°€ê²Œ ë©ë‹ˆë‹¤.


ì•„ë˜ì˜ ë‘ í‘œë¥¼ ë³´ë©´ ì¢€ ë” ì§ê´€ì ìœ¼ë¡œ ì´í•´ê°€ ë  ê²ƒì…ë‹ˆë‹¤.

```
coin      [1, 2]
amount    [0, 1, 2, 3, 4, 5]
index     [0, 1, 2, 3, 4, 5]

before_dp [0, 1, 1, 2, 2, 6]
dp        [0, 1, 1, 2, 2, 3]
```
dp[0]ì€ 0 ì„ ë§Œë“œëŠ”ë° í•„ìš”í•œ ì½”ì¸ì˜ ìˆ˜ì…ë‹ˆë‹¤.
dp[1]ì€ í˜„ì¬ ê°€ì§€ê³  ìˆëŠ” ì½”ì¸ë“¤ë¡œ 1 ì„ ë§Œë“œëŠ”ë° í•„ìš”í•œ ì½”ì¸ì˜ ìˆ˜ ì…ë‹ˆë‹¤.
dp[2]ëŠ” ...

dp[6]ì„ ë§Œë“¤ ë•Œ, dp[6 - 2] ë²ˆì§¸ì™€ dp[6 - 1] ë²ˆì§¸ì˜ ê°’ì„ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.
ê°€ì§€ê³  ìˆëŠ” ì½”ì¸ì˜ ìˆ˜ëŠ” 1 ì•„ë‹ˆë©´ 2 ì´ë¯€ë¡œ dp[5]ë¥¼ ë§Œë“œëŠ”ë° ë“¤ì—ˆë˜ ì½”ì¸ì˜ ìˆ˜ì— ì½”ì¸ 1 ì§œë¦¬ë¥¼ í•˜ë‚˜
ì¶”ê°€í•´ì£¼ë©´ í•˜ìœ„ ë¬¸ì œì˜ ë‹µì„ ì´ìš©í•˜ì—¬ ìƒìœ„ ë¬¸ì œë¥¼ í‘¸ëŠ” ê¼´ì´ ë©ë‹ˆë‹¤.

ë§ˆì°¬ê°€ì§€ë¡œ dp[6 - 2]ì— ì ‘ê·¼í•˜ì—¬ dp[6 - 2]ë¥¼ ë§Œë“œëŠ”ë° ë“¤ì—ˆë˜ ì½”ì¸ì˜ ìˆ˜ì— ì½”ì¸ 2 ì§œë¦¬ë¥¼ í•˜ë‚˜ ì¶”ê°€í•¨ìœ¼ë¡œì¨ í•˜ìœ„ ë¬¸ì œë¥¼ ì´ìš©í•´ ìƒìœ„ ë¬¸ì œì˜ ë‹µì„ ë¹ ë¥´ê²Œ í’€ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë¬¼ë¡  ë‘˜ ë‹¤ ê°’ì´ ì´ˆê¸°í™” ë˜ì§€ ì•Šì•˜ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ í•´ë‹¹ ë°°ì—´ì— ì ‘ê·¼ í•œ ê²ƒì€ ì˜ë¯¸ê°€ ì—†ìœ¼ë¯€ë¡œ 
ì›ë˜ì˜ ê°’ì„ ë‹¤ì‹œ ëŒë ¤ì¤ë‹ˆë‹¤. `Math.min(dp[i], 1 + dp[i - coin])`ì´ ì½”ë“œì—ì„œ dp[i]ë¥¼ ë‹¤ì‹œ ë„£ì–´ì£¼ëŠ” ì´ìœ ì…ë‹ˆë‹¤.

### recap
---

ì•Œê³ ë¦¬ì¦˜ì— ëŒ€í•œ ì´í•´ë„ë¥¼ ë†’ì´ëŠ” ì¤‘ìš”í•œ ë°©ë²• ì¤‘ í•˜ë‚˜ëŠ”
ê²°êµ­ ì•Œê³ ë¦¬ì¦˜ì€ ë¬¸ì œ í’€ì´ ë°©ì‹ì´ë‹¤ ë¼ëŠ” ê²ƒì„ ì´ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. (ê°œì¸ì  ì˜ê²¬ì…ë‹ˆë‹¤.)

dpëŠ” ë©”ëª¨ë¦¬ë¥¼ ì´ìš©í•˜ì—¬ ì‹œê°„ ë³µì¡ë„ë¥¼ ì¤„ì´ëŠ” ê²ƒì´ë¯€ë¡œ ì´ì „ì˜ ê¸°ë¡ì„ í†µí•´ ë‹¤ìŒ êµ¬í•´ì•¼ í•˜ëŠ” ê°’ì„ ë‚ ë¡œ ë¨¹ìœ¼ë ¤ ë“­ë‹ˆë‹¤. 

coin ë¬¸ì œì—ì„œëŠ” ì½”ì¸ 6 ê°œ ì§œë¦¬ë¥¼ ë§Œë“œëŠ” ê²½ìš°ì˜ ìˆ˜ì— ëŒ€í•´ 4 ê°œ ì§œë¦¬ë¥¼ ë§Œë“¤ì—ˆë˜ ê²½ìš°ì˜ ìˆ˜ì˜ ê²°ê³¼ê°’ì´
ì´ë¯¸ ìˆë‹¤ë©´ ì´ê±¸ ì´ìš©í•´ë³´ìëŠ” ê²ƒì…ë‹ˆë‹¤.

ì´ëŸ° ì˜ë„ë¥¼ ë¨¼ì € ì´í•´í•˜ê³  ì½”ë“œë¥¼ ë³´ë©´ ì¢€ ë” ì´í•´ê°€ ì‰¬ì›Œì§ˆ ê²ƒ ê°™ìŠµë‹ˆë‹¤. 

