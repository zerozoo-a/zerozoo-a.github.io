---
title: js는 어디로 가고 있는가?
date: 2023-10-15 02:26:37
coverURL: 
---
<br />
<br />
<br />


## js 프레임워크의 발전

최근 js 진영의 움직임이 심상치 않습니다.

물론 다른 언어들도 극적인 기능과 성장이 두드러지지만 js의 변화는 눈여겨 볼 가치가 있을 것 같습니다.

점점 Php처럼 변해가는 frontend의 프레임워크들은 browser상의 js와 node.js (include deno, bun)등
이 복합적으로 상호작용하면서 화면을 그리기 시작했습니다. SSR부터 server상에가서 가상돔을 통해 그려내는
이미 그려진 화면과 상호작용하는 client side의 컴포넌트등이 있습니다.

(node.js에서의 multithread 환경을 구성하고 더 빠른 화면 그리기 등도 가능하지 않을까요? 여러 요청이 동시에 일어나고
master와 slave로 나뉜 node들이 master에 화면을 제공하고 master는 그려진 화면을 다시 그리지 않고 다른 slave에 재분배하는 이런 그림도 가능하지 않을지..)

## 한계점과 대안

js만으로 돌아가는 회사들도, 서비스들도 많아지고 있는 추세인데요
개발자들은 기본적으로 싱글스레드를 싫어합니다. (js는 사실 최소 4개 쓰레드를 담고 있는 쓰레드 pool을 기본적으로 만들고 있습니다 *uv thread pool) 

또한 함수형에서 부터 기초한 js는 메모리 공유를 기본적으로 하지 않습니다만 이미 정식 스펙에 메모리 공유 api가 있습니다.
쓰레드를 생성해서 해당 메모리를 동시에 접근 할 수도 있죠, 이제 js도 뮤텍스 세마포어 등을 고려하면서 작업해야 하지만,
CPS를 기반으로 아직까진 쓰레드를 남용하진 않고 있습니다.

또한 클라이언트에서는 더욱 그 사용이 제한됩니다. 

이유는 당연하게도 browser에서 돌아가기 때문에 worker를 만들더라도 오버헤드가 크고
또한 워커를 생성 할 수 있는 client device인지 몇개까지 돌릴 수 있는지도 파악하기 쉽지 않습니다.

WASM 또한 아직 제대로 사용되고 있지 않아 js가 웹을 놓아줄 시기는 아직 많이 먼 것으로 보입니다. (flutter에서 wasm 포팅을 지원하겠다는데 군침이 싹도네요)

이러한 한계점이 명확한 Js이지만 브라우저 화면을 굳이 클라이언트단에서 그릴 필요는 없습니다.

그럼 자연스럽게 브라우저의 성능에 의존하지 않고 서버가 자원을 태워 화면을 다 그려놓고 반환해주면 그만이죠.
네트워크 통신 비용이 들어간다는 사실은 변함이 없지만 이전보다는 많은 선택지가 있는 것도 사실입니다.

## 미래는 어떨까

WASM이 관심을 끌다가 지지부진한 지원과 자바스크립트와의 속도 차이에 그렇게 메리트를 못느낀 것인지
관심이 한 풀 죽은 느낌입니다.

연산이 많이 드는 작업이나 많은 연산을 필요로 하는 화면은 서버에 옮기고 유저와 interaction이 필요한 화면은
유저에게 일임하는 방법이 현재 최선으로 보입니다.

나중엔 모두 WASM으로 빌드하고 실행하며 웹이 더 발전하길 바랍니다.




